@startuml
!define TABLE(title,desc) class title as "desc" << (T,#FFAAAA) >>
!define RELATION(title,desc) class title as "desc" << (R,#FFAAAA) >>

' 实体：用户
TABLE(user, "用户") {
  +id: INT [PK]
  --
  username: VARCHAR(255)
  password: VARCHAR(255)
  email: VARCHAR(255)
  role: ENUM('员工', '领导', '管理员')
}

' 实体：证书
TABLE(certificate, "证书") {
  +id: INT [PK]
  --
  user_id: INT [FK]
  category_id: INT [FK]
  name: VARCHAR(255)
  issue_date: DATE
  expiry_date: DATE
  file_path: VARCHAR(255)
}

' 实体：证书类别
TABLE(category, "证书类别") {
  +id: INT [PK]
  --
  name: VARCHAR(255)
}

' 实体：通知
TABLE(notification, "通知") {
  +id: INT [PK]
  --
  user_id: INT [FK]
  certificate_id: INT [FK]
  content: TEXT
  sent_date: DATETIME
  status: ENUM('未读', '已读')
}

' 关系：用户与证书
user "1" -- "N" certificate : 证书持有者

' 关系：证书与类别
category "1" -- "N" certificate : 类别

' 关系：通知与用户
user "1" -- "N" notification : 接收者

' 关系：通知与证书
certificate "1" -- "N" notification : 相关证书

@enduml
