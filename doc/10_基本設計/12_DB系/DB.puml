@startuml
!define TABLE(title,desc) class title as "desc" << (T,#FFAAAA) >>
!define RELATION(title,desc) class title as "desc" << (R,#FFAAAA) >>

' 实体：用户
TABLE(user, "ユーザー") {
  +id: INT [PK]
  --
  username: VARCHAR(255)
  password: VARCHAR(255)
  email: VARCHAR(255)
  role: ENUM('员工', '领导', '管理员')
}

' 实体：证书
TABLE(certificate, "資格証") {
  +id: INT [PK]
  --
  user_id: INT [FK]
  category_id: INT [FK]
  name: VARCHAR(255)
  issue_date: DATE
  expiry_date: DATE
  status: ENUM('拒绝','承认','待审核')
  file_path: VARCHAR(255)
}

' 实体：证书类别
TABLE(category, "資格証の種類") {
  +id: INT [PK]
  --
  name: VARCHAR(255)
}

' 实体：通知
TABLE(notification, "通知メール") {
  +id: INT [PK]
  --
  user_id: INT [FK]
  certificate_id: INT [FK]
  content: TEXT
  sent_date: DATETIME
  status: ENUM('未读', '已读')
}

' 关系：用户与证书
user "1" -- "N" certificate : 役員持ちの資格証

' 关系：证书与类别
category "1" -- "N" certificate : 種類分別

' 关系：通知与用户
user "1" -- "N" notification : メール通信


@enduml
